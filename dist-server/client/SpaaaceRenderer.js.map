{"version":3,"file":"SpaaaceRenderer.js","names":["_lanceGg","require","_Utils","_interopRequireDefault","_Ship","e","__esModule","_classCallCheck","a","n","TypeError","_defineProperties","r","t","length","o","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","prototype","i","_toPrimitive","_typeof","Symbol","toPrimitive","call","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","apply","_assertThisInitialized","ReferenceError","Boolean","valueOf","_superPropGet","p","_get","get","bind","_superPropBase","getOwnPropertyDescriptor","arguments","value","hasOwnProperty","setPrototypeOf","getPrototypeOf","__proto__","_inherits","create","_setPrototypeOf","PIXI","SpaaaceRenderer","exports","_Renderer","gameEngine","clientEngine","_this","sprites","isReady","assetPathPrefix","options","bgPhaseX","bgPhaseY","ship","missile","bg1","bg2","bg3","bg4","smokeParticle","init","_this2","viewportWidth","window","innerWidth","viewportHeight","innerHeight","stage","Container","layer1","layer2","addChild","document","readyState","onDOMLoaded","addEventListener","Promise","resolve","reject","loader","add","keys","ASSETPATHS","map","x","name","url","load","setupStage","Utils","isTouchDevice","body","classList","isMacintosh","isWindows","emit","renderer","autoDetectRenderer","querySelector","appendChild","view","_this3","setRendererSize","lookingAt","y","camera","extras","TilingSprite","resources","texture","blendMode","BLEND_MODES","ADD","alpha","elapsedTime","Date","now","getUrlVars","graphics","Graphics","beginFill","drawRect","worldSettings","width","height","resize","draw","dt","worldWidth","worldHeight","viewportSeesRightBound","viewportSeesLeftBound","viewportSeesTopBound","viewportSeesBottomBound","_i","_Object$keys","objId","objData","world","objects","sprite","actor","thrustEmitter","showThrust","Ship","playerShip","updateOffscreenIndicator","position","shipContainerSprite","rotation","angle","Math","PI","renderStep","cameraTarget","gameStarted","getCentroid","cameraRoam","lookingAtDeltaX","lookingAtDeltaY","cameraTempTargetX","cameraTempTargetY","centerCamera","bgOffsetX","bgOffsetY","tilePosition","render","addPlayerShip","shipSprite","tint","remove","contains","disabled","style","opacity","setTimeout","targetX","targetY","isNaN","lastCameraPosition","addOffscreenIndicator","container","indicatorEl","createElement","setAttribute","id","console","error","concat","playerShipObj","slope","b","padding","indicatorPos","atan2","transform","removeOffscreenIndicator","parentNode","removeChild","updateHUD","data","RTT","qs","innerHTML","RTTAverage","truncateDecimals","updateScore","scoreContainer","scoreArray","scoreEls","querySelectorAll","dataset","_i2","_Object$keys2","scoreEl","parseInt","changeName","kills","push","el","sort","onKeyChange","keyName","isDown","enableFullScreen","isInFullScreen","fullScreenElement","mozFullScreen","webkitIsFullScreen","isIPhoneIPad","docElm","documentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullScreen","gameCoordsToScreen","obj","Renderer","maxDistance","shipCount","centroid","selectedShip","_i3","_Object$keys3","objDistance","sqrt","pow","selector","number","digits","multiplier","adjustedNum","truncatedNum","navigator","platform","indexOf","match"],"sources":["../../src/client/SpaaaceRenderer.js"],"sourcesContent":["let PIXI = null;\nimport { Renderer } from 'lance-gg';\nimport Utils from './../common/Utils';\nimport Ship from '../common/Ship';\n\n\n/**\n * Renderer for the Spaaace client - based on Pixi.js\n */\nexport default class SpaaaceRenderer extends Renderer {\n\n    get ASSETPATHS(){\n        return {\n            ship: 'assets/ship1.png',\n            missile: 'assets/shot.png',\n            bg1: 'assets/space3.png',\n            bg2: 'assets/space2.png',\n            bg3: 'assets/clouds2.png',\n            bg4: 'assets/clouds1.png',\n            smokeParticle: 'assets/smokeparticle.png'\n        };\n    }\n\n    // TODO: document\n    constructor(gameEngine, clientEngine) {\n        super(gameEngine, clientEngine);\n        PIXI = require('pixi.js');\n        this.sprites = {};\n        this.isReady = false;\n\n        // asset prefix\n        this.assetPathPrefix = this.gameEngine.options.assetPathPrefix?this.gameEngine.options.assetPathPrefix:'';\n\n        // these define how many gameWorlds the player ship has \"scrolled\" through\n        this.bgPhaseX = 0;\n        this.bgPhaseY = 0;\n    }\n\n    init() {\n        this.viewportWidth = window.innerWidth;\n        this.viewportHeight = window.innerHeight;\n\n        this.stage = new PIXI.Container();\n        this.layer1 = new PIXI.Container();\n        this.layer2 = new PIXI.Container();\n\n        this.stage.addChild(this.layer1, this.layer2);\n\n        if (document.readyState === 'complete' || document.readyState === 'loaded' || document.readyState === 'interactive') {\n            this.onDOMLoaded();\n        } else {\n            document.addEventListener('DOMContentLoaded', ()=>{\n                this.onDOMLoaded();\n            });\n        }\n\n        return new Promise((resolve, reject)=>{\n            PIXI.loader.add(Object.keys(this.ASSETPATHS).map((x)=>{\n                return{\n                    name: x,\n                    url: this.assetPathPrefix + this.ASSETPATHS[x]\n                };\n            }))\n            .load(() => {\n                this.isReady = true;\n                this.setupStage();\n\n                if (Utils.isTouchDevice()) {\n                    document.body.classList.add('touch');\n                } else if (isMacintosh()) {\n                    document.body.classList.add('mac');\n                } else if (isWindows()) {\n                    document.body.classList.add('pc');\n                }\n\n                resolve();\n\n                this.gameEngine.emit('renderer.ready');\n            });\n        });\n    }\n\n    onDOMLoaded(){\n        this.renderer = PIXI.autoDetectRenderer(this.viewportWidth, this.viewportHeight);\n        document.body.querySelector('.pixiContainer').appendChild(this.renderer.view);\n    }\n\n    setupStage() {\n        window.addEventListener('resize', ()=>{ this.setRendererSize(); });\n\n        this.lookingAt = { x: 0, y: 0 };\n        this.camera = new PIXI.Container();\n        this.camera.addChild(this.layer1, this.layer2);\n\n        // parallax background\n        this.bg1 = new PIXI.extras.TilingSprite(PIXI.loader.resources.bg1.texture,\n                this.viewportWidth, this.viewportHeight);\n        this.bg2 = new PIXI.extras.TilingSprite(PIXI.loader.resources.bg2.texture,\n            this.viewportWidth, this.viewportHeight);\n        this.bg3 = new PIXI.extras.TilingSprite(PIXI.loader.resources.bg3.texture,\n            this.viewportWidth, this.viewportHeight);\n        this.bg4 = new PIXI.extras.TilingSprite(PIXI.loader.resources.bg4.texture,\n            this.viewportWidth, this.viewportHeight);\n\n        this.bg3.blendMode = PIXI.BLEND_MODES.ADD;\n        this.bg4.blendMode = PIXI.BLEND_MODES.ADD;\n        this.bg4.alpha = 0.6;\n\n        this.stage.addChild(this.bg1, this.bg2, this.bg3, this.bg4);\n        this.stage.addChild(this.camera);\n\n        // this.debug= new PIXI.Graphics();\n        // this.camera.addChild(this.debug);\n\n        // this.debugText = new PIXI.Text('DEBUG', {fontFamily:\"arial\", fontSize: \"100px\", fill:\"white\"});\n        // this.debugText.anchor.set(0.5, 0.5);\n        // this.debugText.x = this.gameEngine.worldSettings.width/2;\n        // this.debugText.y = this.gameEngine.worldSettings.height/2;\n        // this.camera.addChild(this.debugText);\n\n        this.elapsedTime = Date.now();\n        // debug\n        if ('showworldbounds' in Utils.getUrlVars()) {\n            let graphics = new PIXI.Graphics();\n            graphics.beginFill(0xFFFFFF);\n            graphics.alpha = 0.1;\n            graphics.drawRect(0, 0, this.gameEngine.worldSettings.width, this.gameEngine.worldSettings.height);\n            this.camera.addChild(graphics);\n        }\n\n    }\n\n    setRendererSize() {\n        this.viewportWidth = window.innerWidth;\n        this.viewportHeight = window.innerHeight;\n\n        this.bg1.width = this.viewportWidth;\n        this.bg1.height = this.viewportHeight;\n        this.bg2.width = this.viewportWidth;\n        this.bg2.height = this.viewportHeight;\n        this.bg3.width = this.viewportWidth;\n        this.bg3.height = this.viewportHeight;\n        this.bg4.width = this.viewportWidth;\n        this.bg4.height = this.viewportHeight;\n\n        this.renderer.resize(this.viewportWidth, this.viewportHeight);\n    }\n\n    draw(t, dt) {\n        super.draw(t, dt);\n\n        let now = Date.now();\n\n        if (!this.isReady) return; // assets might not have been loaded yet\n        let worldWidth = this.gameEngine.worldSettings.width;\n        let worldHeight = this.gameEngine.worldSettings.height;\n\n        let viewportSeesRightBound = this.camera.x < this.viewportWidth - worldWidth;\n        let viewportSeesLeftBound = this.camera.x > 0;\n        let viewportSeesTopBound = this.camera.y > 0;\n        let viewportSeesBottomBound = this.camera.y < this.viewportHeight - worldHeight;\n\n        for (let objId of Object.keys(this.sprites)) {\n            let objData = this.gameEngine.world.objects[objId];\n            let sprite = this.sprites[objId];\n\n            if (objData) {\n\n                // if the object requests a \"showThrust\" then invoke it in the actor\n                if (sprite.actor && sprite.actor.thrustEmitter) {\n                    sprite.actor.thrustEmitter.emit = !!objData.showThrust;\n                }\n\n                if (objData instanceof Ship && sprite != this.playerShip) {\n                    this.updateOffscreenIndicator(objData);\n                }\n\n                sprite.x = objData.position.x;\n                sprite.y = objData.position.y;\n\n                if (objData instanceof Ship){\n                    sprite.actor.shipContainerSprite.rotation = this.gameEngine.world.objects[objId].angle * Math.PI/180;\n                } else{\n                    sprite.rotation = this.gameEngine.world.objects[objId].angle * Math.PI/180;\n                }\n\n                // make the wraparound seamless for objects other than the player ship\n                if (sprite != this.playerShip && viewportSeesLeftBound && objData.position.x > this.viewportWidth - this.camera.x) {\n                    sprite.x = objData.position.x - worldWidth;\n                }\n                if (sprite != this.playerShip && viewportSeesRightBound && objData.position.x < -this.camera.x) {\n                    sprite.x = objData.position.x + worldWidth;\n                }\n                if (sprite != this.playerShip && viewportSeesTopBound && objData.position.y > this.viewportHeight - this.camera.y) {\n                    sprite.y = objData.position.y - worldHeight;\n                }\n                if (sprite != this.playerShip && viewportSeesBottomBound && objData.position.y < -this.camera.y) {\n                    sprite.y = objData.position.y + worldHeight;\n                }\n            }\n\n            if (sprite) {\n                // object is either a Pixi sprite or an Actor. Actors have renderSteps\n                if (sprite.actor && sprite.actor.renderStep) {\n                    sprite.actor.renderStep(now - this.elapsedTime);\n                }\n            }\n\n            // this.emit(\"postDraw\");\n        }\n\n        let cameraTarget;\n        if (this.playerShip) {\n            cameraTarget = this.playerShip;\n            // this.cameraRoam = false;\n        } else if (!this.gameStarted && !cameraTarget) {\n\n            // calculate centroid\n            cameraTarget = getCentroid(this.gameEngine.world.objects);\n            this.cameraRoam = true;\n        }\n\n        if (cameraTarget) {\n            // let bgOffsetX = -this.bgPhaseX * worldWidth - cameraTarget.x;\n            // let bgOffsetY = -this.bgPhaseY * worldHeight - cameraTarget.y;\n\n            // 'cameraroam' in Utils.getUrlVars()\n            if (this.cameraRoam) {\n                let lookingAtDeltaX = cameraTarget.x - this.lookingAt.x;\n                let lookingAtDeltaY = cameraTarget.y - this.lookingAt.y;\n                let cameraTempTargetX;\n                let cameraTempTargetY;\n\n                if (lookingAtDeltaX > worldWidth / 2) {\n                    this.bgPhaseX++;\n                    cameraTempTargetX = this.lookingAt.x + worldWidth;\n                } else if (lookingAtDeltaX < -worldWidth / 2) {\n                    this.bgPhaseX--;\n                    cameraTempTargetX = this.lookingAt.x - worldWidth;\n                } else {\n                    cameraTempTargetX = this.lookingAt.x + lookingAtDeltaX * 0.02;\n                }\n\n                if (lookingAtDeltaY > worldHeight / 2) {\n                    cameraTempTargetY = this.lookingAt.y + worldHeight;\n                    this.bgPhaseY++;\n                } else if (lookingAtDeltaY < -worldHeight / 2) {\n                    this.bgPhaseY--;\n                    cameraTempTargetY = this.lookingAt.y - worldHeight;\n                } else {\n                    cameraTempTargetY = this.lookingAt.y + lookingAtDeltaY * 0.02;\n                }\n\n                this.centerCamera(cameraTempTargetX, cameraTempTargetY);\n\n            } else {\n                this.centerCamera(cameraTarget.x, cameraTarget.y);\n            }\n        }\n\n        let bgOffsetX = this.bgPhaseX * worldWidth + this.camera.x;\n        let bgOffsetY = this.bgPhaseY * worldHeight + this.camera.y;\n\n        this.bg1.tilePosition.x = bgOffsetX * 0.01;\n        this.bg1.tilePosition.y = bgOffsetY * 0.01;\n\n        this.bg2.tilePosition.x = bgOffsetX * 0.04;\n        this.bg2.tilePosition.y = bgOffsetY * 0.04;\n\n        this.bg3.tilePosition.x = bgOffsetX * 0.3;\n        this.bg3.tilePosition.y = bgOffsetY * 0.3;\n\n        this.bg4.tilePosition.x = bgOffsetX * 0.75;\n        this.bg4.tilePosition.y = bgOffsetY * 0.75;\n\n        this.elapsedTime = now;\n\n        // Render the stage\n        this.renderer.render(this.stage);\n    }\n\n    addPlayerShip(sprite) {\n        this.playerShip = sprite;\n        sprite.actor.shipSprite.tint = 0XFF00FF; // color  player ship\n        document.body.classList.remove('lostGame');\n        if (!document.body.classList.contains('tutorialDone')){\n            document.body.classList.add('tutorial');\n        }\n        document.body.classList.remove('lostGame');\n        document.body.classList.add('gameActive');\n        document.querySelector('#tryAgain').disabled = true;\n        document.querySelector('#joinGame').disabled = true;\n        document.querySelector('#joinGame').style.opacity = 0;\n\n        this.gameStarted = true; // todo state shouldn't be saved in the renderer\n\n        // remove the tutorial if required after a timeout\n        setTimeout(() => {\n            document.body.classList.remove('tutorial');\n        }, 10000);\n    }\n\n    /**\n     * Centers the viewport on a coordinate in the gameworld\n     * @param {Number} targetX\n     * @param {Number} targetY\n     */\n    centerCamera(targetX, targetY) {\n        if (isNaN(targetX) || isNaN(targetY)) return;\n        if (!this.lastCameraPosition){\n            this.lastCameraPosition = {};\n        }\n\n        this.lastCameraPosition.x = this.camera.x;\n        this.lastCameraPosition.y = this.camera.y;\n\n        this.camera.x = this.viewportWidth / 2 - targetX;\n        this.camera.y = this.viewportHeight / 2 - targetY;\n        this.lookingAt.x = targetX;\n        this.lookingAt.y = targetY;\n    }\n\n    addOffscreenIndicator(objData) {\n        let container = document.querySelector('#offscreenIndicatorContainer');\n        let indicatorEl = document.createElement('div');\n        indicatorEl.setAttribute('id', 'offscreenIndicator' + objData.id);\n        indicatorEl.classList.add('offscreenIndicator');\n        container.appendChild(indicatorEl);\n    }\n\n    updateOffscreenIndicator(objData){\n        // player ship might have been destroyed\n        if (!this.playerShip) return;\n\n        let indicatorEl = document.querySelector('#offscreenIndicator' + objData.id);\n        if (!indicatorEl) {\n            console.error(`No indicatorEl found with id ${objData.id}`);\n            return;\n        }\n        let playerShipObj = this.gameEngine.world.objects[this.playerShip.id];\n        let slope = (objData.position.y - playerShipObj.position.y) / (objData.position.x - playerShipObj.position.x);\n        let b = this.viewportHeight/ 2;\n\n        let padding = 30;\n        let indicatorPos = { x: 0, y: 0 };\n\n        if (objData.position.y < playerShipObj.position.y - this.viewportHeight/2) {\n            indicatorPos.x = this.viewportWidth/2 + (padding - b)/slope;\n            indicatorPos.y = padding;\n        } else if (objData.position.y > playerShipObj.position.y + this.viewportHeight/2) {\n            indicatorPos.x = this.viewportWidth/2 + (this.viewportHeight - padding - b)/slope;\n            indicatorPos.y = this.viewportHeight - padding;\n        }\n\n        if (objData.position.x < playerShipObj.position.x - this.viewportWidth/2) {\n            indicatorPos.x = padding;\n            indicatorPos.y = slope * (-this.viewportWidth/2 + padding) + b;\n        } else if (objData.position.x > playerShipObj.position.x + this.viewportWidth/2) {\n            indicatorPos.x = this.viewportWidth - padding;\n            indicatorPos.y = slope * (this.viewportWidth/2 - padding) + b;\n        }\n\n        if (indicatorPos.x == 0 && indicatorPos.y == 0){\n            indicatorEl.style.opacity = 0;\n        } else {\n            indicatorEl.style.opacity = 1;\n            let rotation = Math.atan2(objData.position.y - playerShipObj.position.y, objData.position.x - playerShipObj.position.x);\n            rotation = rotation * 180/Math.PI; // rad2deg\n            indicatorEl.style.transform = `translateX(${indicatorPos.x}px) translateY(${indicatorPos.y}px) rotate(${rotation}deg) `;\n        }\n    }\n\n    removeOffscreenIndicator(objData) {\n        let indicatorEl = document.querySelector('#offscreenIndicator'+objData.id);\n        if (indicatorEl && indicatorEl.parentNode)\n            indicatorEl.parentNode.removeChild(indicatorEl);\n    }\n\n    updateHUD(data){\n        if (data.RTT){ qs('.latencyData').innerHTML = data.RTT;}\n        if (data.RTTAverage){ qs('.averageLatencyData').innerHTML = truncateDecimals(data.RTTAverage, 2);}\n    }\n\n    updateScore(data){\n        let scoreContainer = qs('.score');\n        let scoreArray = [];\n\n        // remove score lines with objects that don't exist anymore\n        let scoreEls = scoreContainer.querySelectorAll('.line');\n        for (let x=0; x < scoreEls.length; x++){\n            if (data[scoreEls[x].dataset.objId] == null){\n                scoreEls[x].parentNode.removeChild(scoreEls[x]);\n            }\n        }\n\n        for (let id of Object.keys(data)){\n            let scoreEl = scoreContainer.querySelector(`[data-obj-id='${id}']`);\n            // create score line if it doesn't exist\n            if (scoreEl == null){\n                scoreEl = document.createElement('div');\n                scoreEl.classList.add('line');\n                if (this.playerShip && this.playerShip.id == parseInt(id)) scoreEl.classList.add('you');\n                scoreEl.dataset.objId = id;\n                scoreContainer.appendChild(scoreEl);\n            }\n\n            // stupid string/number conversion\n            if (this.sprites[parseInt(id)])\n                this.sprites[parseInt(id)].actor.changeName(data[id].name);\n\n            scoreEl.innerHTML = `${data[id].name}: ${data[id].kills}`;\n\n            scoreArray.push({\n                el: scoreEl,\n                data: data[id]\n            });\n        }\n\n        scoreArray.sort((a, b) => {return a.data.kills < b.data.kills;});\n\n        for (let x=0; x < scoreArray.length; x++){\n            scoreArray[x].el.style.transform = `translateY(${x}rem)`;\n        }\n\n    }\n\n    onKeyChange(e){\n        if (this.playerShip) {\n            if (e.keyName === 'up') {\n                this.playerShip.actor.thrustEmitter.emit = e.isDown;\n            }\n        }\n    }\n\n    enableFullScreen(){\n        let isInFullScreen = (document.fullScreenElement && document.fullScreenElement !== null) ||    // alternative standard method\n            (document.mozFullScreen || document.webkitIsFullScreen);\n\n        // iOS fullscreen generates user warnings\n        if (isIPhoneIPad()) return;\n\n        let docElm = document.documentElement;\n        if (!isInFullScreen) {\n\n            if (docElm.requestFullscreen) {\n                docElm.requestFullscreen();\n            } else if (docElm.mozRequestFullScreen) {\n                docElm.mozRequestFullScreen();\n            } else if (docElm.webkitRequestFullScreen) {\n                // NOTE: disabled on iOS/Safari, because it generated a\n                // phishing warning.\n                // docElm.webkitRequestFullScreen();\n            }\n        }\n    }\n\n    /*\n     * Takes in game coordinates and translates them into screen coordinates\n     * @param obj an object with x and y properties\n     */\n    gameCoordsToScreen(obj){\n        // console.log(obj.x , this.viewportWidth / 2 , this.camera.x)\n        return {\n            x: obj.position.x + this.camera.x,\n            y: obj.position.y + this.camera.y\n        };\n    }\n\n}\n\nfunction getCentroid(objects) {\n    let maxDistance = 500; // max distance to add to the centroid\n    let shipCount = 0;\n    let centroid = { x: 0, y: 0 };\n    let selectedShip = null;\n\n    for (let id of Object.keys(objects)){\n        let obj = objects[id];\n        if (obj instanceof Ship) {\n            if (selectedShip == null)\n                selectedShip = obj;\n\n            let objDistance = Math.sqrt( Math.pow((selectedShip.position.x-obj.position.y), 2) + Math.pow((selectedShip.position.y-obj.position.y), 2));\n            if (selectedShip == obj || objDistance < maxDistance) {\n                centroid.x += obj.position.x;\n                centroid.y += obj.position.y;\n                shipCount++;\n            }\n        }\n    }\n\n    centroid.x /= shipCount;\n    centroid.y /= shipCount;\n\n\n    return centroid;\n}\n\n// convenience function\nfunction qs(selector) { return document.querySelector(selector);}\n\nfunction truncateDecimals(number, digits) {\n    let multiplier = Math.pow(10, digits);\n    let adjustedNum = number * multiplier;\n    let truncatedNum = Math[adjustedNum < 0 ? 'ceil' : 'floor'](adjustedNum);\n\n    return truncatedNum / multiplier;\n};\n\nfunction isMacintosh() {\n    return navigator.platform.indexOf('Mac') > -1;\n}\n\nfunction isWindows() {\n    return navigator.platform.indexOf('Win') > -1;\n}\n\nfunction isIPhoneIPad() {\n    return navigator.platform.match(/i(Phone|Pod)/i) !== null;\n}\n"],"mappings":"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","ignoreList":[]}