{"version":3,"file":"Missile.js","names":["_lanceGg","require","_classCallCheck","a","n","TypeError","_defineProperties","e","r","t","length","o","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","prototype","i","_toPrimitive","_typeof","Symbol","toPrimitive","call","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","apply","_assertThisInitialized","ReferenceError","Boolean","valueOf","_superPropGet","p","_get","get","bind","_superPropBase","getOwnPropertyDescriptor","arguments","value","hasOwnProperty","setPrototypeOf","getPrototypeOf","__proto__","_inherits","create","_setPrototypeOf","Missile","exports","_DynamicObject","gameEngine","options","props","position","max","onAddToWorld","Renderer","renderer","getInstance","sprite","PIXI","Sprite","loader","resources","missile","texture","sprites","id","width","height","anchor","set","x","y","layer2","addChild","onRemoveFromWorld","destroy","syncTo","other","inputId","assign","type","BaseTypes","TYPES","INT32","DynamicObject"],"sources":["../../src/common/Missile.js"],"sourcesContent":["import { BaseTypes, DynamicObject, Renderer } from 'lance-gg';\n\nexport default class Missile extends DynamicObject {\n\n    constructor(gameEngine, options, props){\n        super(gameEngine, options, props);\n    }\n\n    // this is what allows usage of shadow object with input-created objects (missiles)\n    // see https://medium.com/javascript-multiplayer-gamedev/chronicles-of-the-development-of-a-multiplayer-game-part-2-loops-and-leaks-10b453e843e0\n    // in the future this will probably be embodied in a component\n\n    static get netScheme() {\n        return Object.assign({\n            inputId: { type: BaseTypes.TYPES.INT32 }\n        }, super.netScheme);\n    }\n\n    // position correction if less than world width/height\n    get bending() {\n        return { position: { max: 500.0 } };\n    }\n\n    onAddToWorld(gameEngine) {\n        if (Renderer) {\n            let renderer = Renderer.getInstance();\n            let sprite = new PIXI.Sprite(PIXI.loader.resources.missile.texture);\n            renderer.sprites[this.id] = sprite;\n            sprite.width = 81 * 0.5;\n            sprite.height = 46 * 0.5;\n            sprite.anchor.set(0.5, 0.5);\n            sprite.position.set(this.position.x, this.position.y);\n            renderer.layer2.addChild(sprite);\n        }\n    }\n\n    onRemoveFromWorld(gameEngine) {\n        if (Renderer) {\n            let renderer = Renderer.getInstance();\n            if (renderer.sprites[this.id]) {\n                renderer.sprites[this.id].destroy();\n                delete renderer.sprites[this.id];\n            }\n        }\n    }\n\n    syncTo(other) {\n        super.syncTo(other);\n        this.inputId = other.inputId;\n    }\n}\n"],"mappings":"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","ignoreList":[]}